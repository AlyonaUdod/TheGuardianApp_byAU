(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{158:function(e,t,n){e.exports=n(327)},163:function(e,t,n){},305:function(e,t,n){},327:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(32),o=n.n(c),i=(n(163),n(130)),s=n.n(i),l=n(136),u=n(51),p=n(52),f=n(126),d=n(53),g=n(128),m=n(33),h=n(133),v=n.n(h);var b=function(e){return function(t){return function(e){return v.a.get("https://content.guardianapis.com/search?page=".concat(e,"&api-key=e925cc03-ba11-420b-b705-4b2997398056"))}(e).then(function(e){return t({type:"DOWNLOADED",data:e.data.response})}).catch(function(){return t({type:"ERROR"})})}};var E=function(e){return function(t){return function(e){return v.a.get("https://cors.io/?".concat(e,"?show-blocks=body&api-key=e925cc03-ba11-420b-b705-4b2997398056"))}(e).then(function(e){return t(w(e.data.response.content.blocks.body[0]))}).catch(function(){return t(w("Sorry, problem with connection, try later."))})}};function w(e){return{type:"MORE",data:e}}var y=function(e){return{type:"plus",data:e}},O=function(e){return{type:"minus",data:e}},k=function(e){return{type:"current",data:e}},N=function(){return{type:"refresh"}},x=n(340),I=n(339),j=n(334),R=n(338),S=n(341),_=n(337),C=n(333),P=n(335),A=n(336),D=n(74),L=n(332),T=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={full:!1},n.readFull=function(){n.setState(function(e){return{full:!e.full}})},n.getInfo=function(e,t){n.props.clearMore();var a=e.target.id;n.props.func(e,t,a)},n}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.body,n=e.indexOf,a=e.title,c=e.active,o=e.ur,i=e.newsUrl;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a.Item,null,r.a.createElement(R.a.Title,{id:o,active:c===n,index:n,onClick:this.getInfo,className:"title"},r.a.createElement(D.a,{name:"dropdown"}),a),r.a.createElement(R.a.Content,{active:c===n,className:"content-body"},t?r.a.createElement(S.a,{onClick:function(){return console.log("ggg")}},this.state.full?t:t.split(" ").length<40?t:"".concat(t.split(" ").slice(0,40).join(" "),"..."),r.a.createElement(P.a,{onClick:this.readFull},r.a.createElement("p",{className:"news-link"},t.split(" ").length<40?"":this.state.full?"Hide full news":"Read full news")),r.a.createElement(L.a,null),r.a.createElement(P.a,null,r.a.createElement("a",{href:i,className:"link",rel:"noopener noreferrer",target:"_blank"},"Read more on source"))):r.a.createElement(S.a,{style:{padding:"40px 0"}},r.a.createElement(_.a,{active:!0,inverted:!0},r.a.createElement(C.a,{inverted:!0}," Loading ..."))))))}}]),t}(a.Component);var F=Object(m.b)(null,function(e){return{clearMore:function(){e({type:"CLEAR"})}}})(T),M=(n(305),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={activeIndex:-1,paginActive:n.props.page?n.props.page:1},n.handleClick=function(e,t,a){var r=t.index,c=n.state.activeIndex===r?-1:r;n.setState({activeIndex:c},n.props.getMoreInfo(a))},n.refresh=function(e){n.props.clearStor(),isNaN(e)?(n.props.refreshPage(),n.props.getFirst(1),n.setState({paginActive:1})):n.props.getFirst(e)},n.showNewPage=function(){var e=Object(l.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.persist(),"pageItem"!==t.target.type){e.next=6;break}return e.next=4,n.props.currentNumberPage(+t.target.text);case 4:e.next=14;break;case 6:if("nextItem"!==t.target.type){e.next=11;break}return e.next=9,n.props.plusPage(n.props.totalPages);case 9:e.next=14;break;case 11:if("prevItem"!==t.target.type){e.next=14;break}return e.next=14,n.props.minusPage();case 14:n.refresh(n.props.page),n.setState({paginActive:n.props.page});case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.getFirst(this.props.page)}},{key:"render",value:function(){var e=this,t=this.state,n=t.activeIndex,a=t.paginActive,c=this.props,o=c.news,i=c.error,s=c.moreInfo,l=c.totalPages;return console.log(this.props.page),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"main-title"},r.a.createElement(x.a,{as:"h2",icon:"bullhorn",content:"The Guardian News"})),r.a.createElement("div",{className:"main-button"},r.a.createElement(I.a,{content:"Refresh",icon:"refresh",onClick:this.refresh})),r.a.createElement(j.a,{activePage:a,firstItem:null,lastItem:null,pointing:!0,secondary:!0,onClick:this.showNewPage,totalPages:l?3500:100}),r.a.createElement(R.a,{styled:!0,className:"accordion-wrapper"},void 0!==o||i?i?r.a.createElement(P.a,null,i," "):""===i?o.map(function(t){return r.a.createElement(F,{key:t.webUrl,indexOf:o.indexOf(t),active:n,func:e.handleClick,title:t.webTitle,ur:t.apiUrl,body:s,newsUrl:t.webUrl})}):r.a.createElement("div",{className:"error"},i):r.a.createElement(S.a,{style:{padding:"13.8rem 0"}},r.a.createElement(_.a,{active:!0,inverted:!0},r.a.createElement(C.a,{inverted:!0}," Loading ...")))))}}]),t}(a.Component));var U=Object(m.b)(function(e){return{news:e.news.results,error:e.error,moreInfo:e.moreInfo.bodyTextSummary,page:e.page,totalPages:e.news.pages}},function(e){return{getFirst:function(t){e(b(t))},getMoreInfo:function(t){e(E(t))},clearStor:function(){e({type:"CLEAR_NEWS"})},plusPage:function(t){e(y(t))},minusPage:function(){e(O())},currentNumberPage:function(t){e(k(t))},refreshPage:function(){e(N())}}})(M),W=n(27),X=n(129);var B=Object(W.c)({news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DOWNLOADED":return Object(X.a)({},t.data);case"CLEAR_NEWS":return{};default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch((arguments.length>1?arguments[1]:void 0).type){case"ERROR":return"Sorry, we coudn't find news for you. Try later, please.";case"CLEAR_NEWS":return"";default:return e}},moreInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MORE":return Object(X.a)({},t.data);case"CLEAR":return{};default:return e}},page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"plus":return e===t.data?e:e+1;case"minus":return e>1?e-1:1;case"current":return t.data;case"refresh":return 1;default:return e}}}),J=n(148),V=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),G=Object(W.e)(B,Object(W.d)(Object(W.a)(J.a),V));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(324);o.a.render(r.a.createElement(m.a,{store:G},r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[158,2,1]]]);
//# sourceMappingURL=main.6ee1373a.chunk.js.map