(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{158:function(e,t,n){e.exports=n(327)},163:function(e,t,n){},305:function(e,t,n){},327:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(32),c=n.n(o),i=(n(163),n(130)),s=n.n(i),l=n(136),u=n(51),p=n(52),f=n(126),d=n(53),g=n(128),m=n(33),h=n(133),v=n.n(h);var b=function(e){return function(t){return function(e){return v.a.get("https://content.guardianapis.com/search?page=".concat(e,"&api-key=e925cc03-ba11-420b-b705-4b2997398056"))}(e).then(function(e){return t({type:"DOWNLOADED",data:e.data.response})}).catch(function(){return t({type:"ERROR"})})}};var w=function(e){return function(t){return function(e){return v.a.get("https://cors.io/?".concat(e,"?show-blocks=body&api-key=e925cc03-ba11-420b-b705-4b2997398056"))}(e).then(function(e){return t(y(e.data.response.content.blocks.body[0]))}).catch(function(){return t(y("Sorry, problem with connection, try later."))})}};function y(e){return{type:"MORE",data:e}}var E=function(e){return{type:"plus",data:e}},O=function(e){return{type:"minus",data:e}},k=function(e){return{type:"current",data:e}},x=function(){return{type:"refresh"}},I=n(340),N=n(339),j=n(334),P=n(338),R=n(341),C=n(337),A=n(333),S=n(335),L=n(336),D=n(74),F=n(332),M=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={full:!1},n.readFull=function(){n.setState(function(e){return{full:!e.full}})},n.getInfo=function(e,t){n.props.clearMore();var r=e.target.id;n.props.func(e,t,r)},n}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.body,n=e.indexOf,r=e.title,o=e.active,c=e.ur,i=e.newsUrl;return a.a.createElement(a.a.Fragment,null,a.a.createElement(L.a.Item,null,a.a.createElement(P.a.Title,{id:c,active:o===n,index:n,onClick:this.getInfo,className:"title"},a.a.createElement(D.a,{name:"dropdown"}),r),a.a.createElement(P.a.Content,{active:o===n,className:"content-body"},t?a.a.createElement(R.a,{onClick:function(){return console.log("ggg")}},this.state.full?t:t.split(" ").length<40?t:"".concat(t.split(" ").slice(0,40).join(" "),"..."),a.a.createElement(S.a,{onClick:this.readFull},a.a.createElement("p",{className:"news-link"},t.split(" ").length<40?"":this.state.full?"Hide full news":"Read full news")),a.a.createElement(F.a,null),a.a.createElement(S.a,null,a.a.createElement("a",{href:i,className:"link",rel:"noopener noreferrer",target:"_blank"},"Read more on source"))):a.a.createElement(R.a,{style:{padding:"40px 0"}},a.a.createElement(C.a,{active:!0,inverted:!0},a.a.createElement(A.a,{inverted:!0}," Loading ..."))))))}}]),t}(r.Component);var W=Object(m.b)(function(e){return{news:e.news.results,error:e.error,moreInfo:e.moreInfo.bodyTextSummary,page:e.page,totalPages:e.news.pages}},function(e){return{clearMore:function(){e({type:"CLEAR"})}}})(M),T=(n(305),function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={activeIndex:-1,paginActive:n.props.page?n.props.page:1},n.handleClick=function(e,t,r){var a=t.index,o=n.state.activeIndex===a?-1:a;n.setState({activeIndex:o},n.props.getMoreInfo(r))},n.refresh=function(e){n.props.clearStor(),isNaN(e)?(n.props.refreshPage(),n.props.getFirst(1),n.setState({paginActive:1})):n.props.getFirst(e)},n.showNewPage=function(){var e=Object(l.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.persist(),"pageItem"!==t.target.type){e.next=6;break}return e.next=4,n.props.currentNumberPage(+t.target.text);case 4:e.next=14;break;case 6:if("nextItem"!==t.target.type){e.next=11;break}return e.next=9,n.props.plusPage(n.props.totalPages);case 9:e.next=14;break;case 11:if("prevItem"!==t.target.type){e.next=14;break}return e.next=14,n.props.minusPage();case 14:n.refresh(n.props.page),n.setState({paginActive:n.props.page});case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.getFirst(this.props.page)}},{key:"render",value:function(){var e=this,t=this.state,n=t.activeIndex,r=t.paginActive,o=this.props,c=o.news,i=o.error,s=o.moreInfo,l=o.totalPages;return console.log(this.props.page),a.a.createElement("div",{className:"wrapper"},a.a.createElement("div",{className:"main-title"},a.a.createElement(I.a,{as:"h2",icon:"bullhorn",content:"The Guardian News"})),a.a.createElement("div",{className:"main-button"},a.a.createElement(N.a,{content:"Refresh",icon:"refresh",onClick:this.refresh})),a.a.createElement(j.a,{activePage:r,firstItem:null,lastItem:null,pointing:!0,secondary:!0,onClick:this.showNewPage,totalPages:l?3500:100}),a.a.createElement(P.a,{styled:!0,className:"accordion-wrapper"},void 0!==c||i?i?a.a.createElement(S.a,null,i," "):""===i?c.map(function(t){return a.a.createElement(W,{key:t.webUrl,indexOf:c.indexOf(t),active:n,func:e.handleClick,title:t.webTitle,ur:t.apiUrl,body:s,newsUrl:t.webUrl})}):a.a.createElement("div",{className:"error"},i):a.a.createElement(R.a,{style:{padding:"13.8rem 0"}},a.a.createElement(C.a,{active:!0,inverted:!0},a.a.createElement(A.a,{inverted:!0}," Loading ...")))))}}]),t}(r.Component));var U=Object(m.b)(function(e){return{news:e.news.results,error:e.error,moreInfo:e.moreInfo.bodyTextSummary,page:e.page,totalPages:e.news.pages}},function(e){return{getFirst:function(t){e(b(t))},getMoreInfo:function(t){e(w(t))},clearStor:function(){e({type:"CLEAR_NEWS"})},plusPage:function(t){e(E(t))},minusPage:function(){e(O())},currentNumberPage:function(t){e(k(t))},refreshPage:function(){e(x())}}})(T),_=n(27),B=n(129);var J=Object(_.c)({news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DOWNLOADED":return Object(B.a)({},t.data);case"CLEAR_NEWS":return{};default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch((arguments.length>1?arguments[1]:void 0).type){case"ERROR":return"Sorry, we coudn't find news for you. Try later, please.";case"CLEAR_NEWS":return"";default:return e}},moreInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MORE":return Object(B.a)({},t.data);case"CLEAR":return{};default:return e}},page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"plus":return e===t.data?e:e+1;case"minus":return e>1?e-1:1;case"current":return t.data;case"refresh":return 1;default:return e}}}),G=n(148),H=Object(_.e)(J,Object(_.d)(Object(_.a)(G.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(324);c.a.render(a.a.createElement(m.a,{store:H},a.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[158,2,1]]]);
//# sourceMappingURL=main.13e77093.chunk.js.map