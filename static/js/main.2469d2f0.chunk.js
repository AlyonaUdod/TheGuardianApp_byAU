(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{160:function(e,t,n){e.exports=n(329)},165:function(e,t,n){},307:function(e,t,n){},329:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(34),o=n.n(c),i=(n(165),n(132)),s=n.n(i),l=n(138),u=n(56),p=n(57),f=n(128),d=n(58),m=n(131),g=n(35),h=n(135),v=n.n(h);var b=function(e){return function(t){return function(e){return v.a.get("https://content.guardianapis.com/search?page=".concat(e,"&api-key=e925cc03-ba11-420b-b705-4b2997398056"))}(e).then(function(e){return t({type:"DOWNLOADED",data:e.data.response})}).catch(function(){return t({type:"ERROR"})})}};var E=function(e){return function(t){return function(e){return v.a.get("https://cors.io/?".concat(e,"?show-blocks=body&api-key=e925cc03-ba11-420b-b705-4b2997398056"))}(e).then(function(e){return t(w(e.data.response.content.blocks.body[0]))}).catch(function(){return t(w("Sorry, problem with connection, try later."))})}};function w(e){return{type:"MORE",data:e}}var y=function(e){return{type:"plus",data:e}},O=function(e){return{type:"minus",data:e}},k=function(e){return{type:"current",data:e}},N=n(344),x=n(343),I=n(338),j=n(342),R=n(345),_=n(341),C=n(336),S=n(339),P=n(340),D=n(80),L=n(335),A=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={full:!1},n.readFull=function(){n.setState(function(e){return{full:!e.full}})},n.getInfo=function(e,t){n.props.clearMore();var a=e.target.id;n.props.func(e,t,a)},n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.body,n=e.indexOf,a=e.title,c=e.active,o=e.ur,i=e.newsUrl;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a.Item,null,r.a.createElement(j.a.Title,{id:o,active:c===n,index:n,onClick:this.getInfo,className:"title"},r.a.createElement(D.a,{name:"dropdown"}),a),r.a.createElement(j.a.Content,{active:c===n,className:"content-body"},t?r.a.createElement(R.a,{onClick:function(){return console.log("ggg")}},this.state.full?t:t.split(" ").length<40?t:"".concat(t.split(" ").slice(0,40).join(" "),"..."),r.a.createElement(S.a,{onClick:this.readFull},r.a.createElement("p",{className:"news-link"},t.split(" ").length<40?"":this.state.full?"Hide full news":"Read full news")),r.a.createElement(L.a,null),r.a.createElement(S.a,null,r.a.createElement("a",{href:i,className:"link",rel:"noopener noreferrer",target:"_blank"},"Read more on source"))):r.a.createElement(R.a,{style:{padding:"40px 0"}},r.a.createElement(_.a,{active:!0,inverted:!0},r.a.createElement(C.a,{inverted:!0}," Loading ..."))))))}}]),t}(a.Component);var T=Object(g.b)(null,function(e){return{clearMore:function(){e({type:"CLEAR"})}}})(A),F=(n(307),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={activeIndex:-1},n.handleClick=function(e,t,a){var r=t.index,c=n.state.activeIndex===r?-1:r;n.setState({activeIndex:c},n.props.getMoreInfo(a))},n.refresh=function(e){n.props.clearStor(),isNaN(e)?n.props.getFirst(1):n.props.getFirst(e)},n.showNewPage=function(){var e=Object(l.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.persist(),console.log(t.target),"pageItem"!==t.target.type){e.next=8;break}return e.next=5,n.props.currentNumberPage(+t.target.text);case 5:n.refresh(n.props.page),e.next=18;break;case 8:if("nextItem"!==t.target.type){e.next=14;break}return e.next=11,n.props.plusPage(n.props.totalPages);case 11:n.refresh(n.props.page),e.next=18;break;case 14:if("prevItem"!==t.target.type){e.next=18;break}return e.next=17,n.props.minusPage();case 17:n.refresh(n.props.page);case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.getFirst(this.props.page)}},{key:"render",value:function(){var e=this,t=this.state.activeIndex,n=this.props,a=n.news,c=n.error,o=n.moreInfo,i=n.totalPages;return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"main-title"},r.a.createElement(N.a,{as:"h2",icon:"bullhorn",content:"The Guardian News"})),r.a.createElement("div",{className:"main-button"},r.a.createElement(x.a,{content:"Refresh",icon:"refresh",onClick:this.refresh})),r.a.createElement(I.a,{defaultActivePage:1,firstItem:null,lastItem:null,pointing:!0,secondary:!0,onClick:this.showNewPage,totalPages:i?3500:100}),r.a.createElement(j.a,{styled:!0,className:"accordion-wrapper"},void 0!==a||c?c?r.a.createElement(S.a,null,c," "):""===c?a.map(function(n){return r.a.createElement(T,{key:n.webUrl,indexOf:a.indexOf(n),active:t,func:e.handleClick,title:n.webTitle,ur:n.apiUrl,body:o,newsUrl:n.webUrl})}):r.a.createElement("div",{className:"error"},c):r.a.createElement(R.a,{style:{padding:"13.8rem 0"}},r.a.createElement(_.a,{active:!0,inverted:!0},r.a.createElement(C.a,{inverted:!0}," Loading ...")))))}}]),t}(a.Component));var M=Object(g.b)(function(e){return{news:e.news.results,error:e.error,moreInfo:e.moreInfo.bodyTextSummary,page:e.page,totalPages:e.news.pages}},function(e){return{getFirst:function(t){e(b(t))},getMoreInfo:function(t){e(E(t))},clearStor:function(){e({type:"CLEAR_NEWS"})},plusPage:function(t){e(y(t))},minusPage:function(){e(O())},currentNumberPage:function(t){e(k(t))}}})(F),U=n(29),W=n(130);var X=Object(U.c)({news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DOWNLOADED":return Object(W.a)({},t.data);case"CLEAR_NEWS":return{};default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch((arguments.length>1?arguments[1]:void 0).type){case"ERROR":return"Sorry, we coudn't find news for you. Try later, please.";case"CLEAR_NEWS":return"";default:return e}},moreInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MORE":return Object(W.a)({},t.data);case"CLEAR":return{};default:return e}},page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"plus":return e===t.data?e:e+1;case"minus":return e>1?e-1:1;case"current":return t.data;default:return e}}}),B=n(150),J=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),V=Object(U.e)(X,Object(U.d)(Object(U.a)(B.a),J));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=n(337);n(326);o.a.render(r.a.createElement(g.a,{store:V},r.a.createElement(G.a,null,r.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[160,2,1]]]);
//# sourceMappingURL=main.2469d2f0.chunk.js.map